{% extends 'base.html.twig' %}

{% block title %}Articles - {{ tag.name }}{% endblock %}

{% block body %}
<h1 style="color: #8b4513; margin-bottom: 2rem;">Articles avec le tag : {{ tag.name }}</h1>

<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 2rem;">
    {% for article in tag.articles %}
    <div style="background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
        {% if article.image %}
        <img src="{{ asset('uploads/' ~ article.image) }}" alt="{{ article.title }}" style="width: 100%; height: 200px; object-fit: cover;">
        {% endif %}
        <div style="padding: 1.5rem;">
            <h3 style="color: #8b4513; margin-bottom: 0.5rem;">{{ article.title }}</h3>
            <p style="color: #718096; margin-bottom: 1rem;">{{ article.content|striptags|slice(0, 150) }}...</p>
            <a href="{{ path('article_show', {id: article.id}) }}" class="btn">Lire plus</a>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
